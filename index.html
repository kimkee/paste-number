<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link href="./favicon.ico" rel="shrtcut icon">
    <title>Clipbard Paste Numbers</title>
    <link rel="stylesheet" href="./style.css">
</head>

<body>

<div class="numbers">
    <input type="tel">
    <input type="tel">
    <input type="tel">
    <input type="tel">
    <input type="tel">
    <input type="tel">
</div>

<script>
    const inputEls = document.querySelectorAll('.numbers input');
    /* document.addEventListener('paste', function (event) {
        // 클립보드에서 데이터 가져오기
        const clipData = event.clipboardData || window.clipboardData;
        const pastedData = clipData.getData('text');
        console.log(pastedData);

        // 띄어쓰기로 구분된 숫자 배열로 변환
        const numbers = pastedData.replace(/ /g, '').split('');

        // 각 input 요소에 값을 설정
        for (let i = 0; i < Math.min(inputEls.length, numbers.length); i++) {
            console.log(numbers[i]);
            inputEls[i].value = numbers[i];
        }

        // 이벤트 기본 동작 중단 (기본적으로 붙여넣기 시에 입력창에 모든 내용이 들어가기 때문에 중단시킴)
        event.preventDefault();
    }); */
    inputEls.forEach( input => {
        input.addEventListener("keydown", e => {
            // console.log(e.key)
            // input.value = '';
        });
    });
    const inputCheck = async(e)=>{
        const clipData = e.target.value.replace(/ /g, '').split('');
        // const pastedData = clipData.getData('text');
        console.log( await navigator.clipboard.readText());
        
        console.log(e.target);
        console.log(e.target.value);
        e.target.value = clipData[0];
        if(!e.target.nextElementSibling) return;
        e.target.nextElementSibling.focus();
    }
    inputEls.forEach( input => input.addEventListener("input", e => inputCheck(e) ) );
    // inputEls.forEach( input => input.addEventListener("paste", e => inputCheck(e) ) );
</script>

</body>

</html>